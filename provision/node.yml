---

- stat:
    path: /usr/bin/node
  register: node
  tags:
    - node

- name: "Node: Execute the installtion script"
  command: bash /root/files/scripts/node.sh
  when: node.stat.islnk is not defined
  tags:
    - node

- name: "Node: Install node version manager n"
  npm:
    name: n
    global: yes
    state: latest
  tags:
    - node

- name: "Node: Install node stable"
  command: n stable
  register: node_stable
  tags:
    - node

- name: "Node: Install node/js dependencies"
  npm: name={{item}} global=yes
  with_items:
    - bower
    - browser-sync
    - browserify
    - eslint
    - grunt-cli
    - gulp
    - http-server
    - jasmine
    - jshint
    - uglify-js
    - yo
